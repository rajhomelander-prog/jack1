<div class="h-full flex flex-col py-6">
  <!-- User Profile Card -->
  <div class="px-2 mb-6">
    <a routerLink="/profile" class="flex items-center space-x-3 p-2 rounded-xl hover:bg-elevated-card transition-colors">
      <img class="h-10 w-10 rounded-full" [src]="userProfile().avatar.replace('/160/160', '/40/40')" alt="User Avatar">
      <div>
        <p class="text-sm font-semibold text-text-primary">{{ userProfile().name }}</p>
        <p class="text-xs text-text-secondary">@{{ userProfile().handle }}</p>
      </div>
    </a>
  </div>

  <!-- Navigation -->
  <nav class="flex-1 space-y-1">
    @for (item of navItems(); track item.name) {
      <a [routerLink]="item.route"
         routerLinkActive
         #rla="routerLinkActive"
         [routerLinkActiveOptions]="{exact: item.route === '/'}"
         class="flex items-center space-x-4 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 ease-in-out relative"
         [class]="rla.isActive ? 'text-text-primary bg-elevated-card' : 'text-text-secondary hover:text-text-primary hover:bg-elevated-card'">
        
        @if (rla.isActive) {
          <div class="absolute left-0 top-1/2 -translate-y-1/2 h-6 w-1 bg-accent-red rounded-r-full shadow-lg shadow-red-500/50"></div>
        }
        
        <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
          <path stroke-linecap="round" stroke-linejoin="round" [attr.d]="item.icon"></path>
        </svg>
        <span>{{ item.name }}</span>
      </a>
    }
  </nav>

  <!-- Settings -->
  <div class="mt-auto px-2">
    <a routerLink="/settings" 
       routerLinkActive="text-text-primary bg-elevated-card"
       class="flex items-center space-x-4 px-4 py-2.5 rounded-lg text-sm font-medium text-text-secondary hover:text-text-primary hover:bg-elevated-card transition-colors">
      <svg class="h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.324.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.272 1.451l-1.043.862c-.29.24-.434.62-.434 1.003v.442c0 .383.144.763.434 1.003l1.043.862a1.125 1.125 0 0 1 .272 1.451l-1.296 2.247a1.125 1.125 0 0 1-1.37.49l-1.217-.456c-.355-.133-.75-.072-1.075.124a6.57 6.57 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.28c-.09.543-.56.941-1.11.941h-2.594c-.55 0-1.02-.398-1.11-.94l-.213-1.281c-.063-.374-.313-.686-.645-.87a6.52 6.52 0 0 1-.22-.127c-.324-.196-.72-.257-1.075-.124l-1.217.456a1.125 1.125 0 0 1-1.37-.49l-1.296-2.247a1.125 1.125 0 0 1 .272-1.451l1.043-.862c.29-.24.434-.62.434-1.003v-.442c0-.383-.144-.763-.434-1.003l-1.043-.862a1.125 1.125 0 0 1-.272-1.451l1.296-2.247a1.125 1.125 0 0 1 1.37-.49l1.217.456c.355.133.75.072 1.075-.124a6.57 6.57 0 0 1 .22-.128c.332-.183.582-.495.644-.869l.213-1.28Z" /><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" /></svg>
      <span>Settings</span>
    </a>
  </div>
</div>
